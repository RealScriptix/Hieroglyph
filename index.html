<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hieroglyph Studios - Premium Streaming</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #e50914;
            --secondary-color: #221f1f;
            --dark-bg: #141414;
            --darker-bg: #000000;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
            --accent-color: #ffd700;
            --success-color: #46d369;
            --danger-color: #dc3545;
            --border-color: #333333;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, var(--darker-bg) 0%, var(--dark-bg) 100%);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* Loading Animation */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #e50914, #ff6b6b);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loader {
            width: 80px;
            height: 80px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Header */
        .header {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            padding: 1rem 2rem;
            transition: all 0.3s ease;
        }

        .header.scrolled {
            background: rgba(0, 0, 0, 0.95);
            box-shadow: 0 2px 20px rgba(0,0,0,0.5);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
            text-decoration: none;
            background: linear-gradient(45deg, #e50914, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-item {
            position: relative;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .nav-item:hover {
            background: rgba(229, 9, 20, 0.2);
            transform: translateY(-2px);
        }

        .nav-item.active {
            background: var(--primary-color);
            color: white;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .profile-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            border: none;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .profile-btn:hover {
            transform: scale(1.1);
        }

        .logout-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--border-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: var(--primary-color);
            border-color: var(--primary-color);
        }

        /* Main Content */
        .main-content {
            margin-top: 80px;
            min-height: calc(100vh - 80px);
        }

        /* Login/Signup Screen */
        .auth-screen {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), 
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23e50914;stop-opacity:0.3" /><stop offset="100%" style="stop-color:%23000000;stop-opacity:0.8" /></linearGradient></defs><rect width="1200" height="800" fill="url(%23grad1)"/></svg>');
            background-size: cover;
            background-position: center;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .auth-container {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            padding: 3rem;
            border-radius: 15px;
            width: 100%;
            max-width: 450px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            animation: slideUp 0.6s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .auth-title {
            font-size: 2rem;
            margin-bottom: 2rem;
            text-align: center;
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-field {
            width: 100%;
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border: 2px solid transparent;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary-color);
            background: rgba(255,255,255,0.15);
        }

        .input-field::placeholder {
            color: var(--text-secondary);
        }

        .auth-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(45deg, var(--primary-color), #ff4757);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(229, 9, 20, 0.4);
        }

        .auth-switch {
            text-align: center;
            color: var(--text-secondary);
        }

        .auth-switch a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: bold;
        }

        .auth-switch a:hover {
            text-decoration: underline;
        }

        /* Dashboard */
        .dashboard {
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        /* Hero Section */
        .hero-section {
            position: relative;
            height: 60vh;
            margin-bottom: 3rem;
            border-radius: 15px;
            overflow: hidden;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        }

        .hero-content {
            position: absolute;
            bottom: 3rem;
            left: 3rem;
            z-index: 2;
        }

        .hero-title {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }

        .hero-description {
            font-size: 1.2rem;
            max-width: 600px;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
        }

        .play-btn, .info-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .play-btn {
            background: white;
            color: black;
        }

        .play-btn:hover {
            background: rgba(255,255,255,0.8);
            transform: scale(1.05);
        }

        .info-btn {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .info-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        /* Movie Rows */
        .movie-section {
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .movie-row {
            display: flex;
            overflow-x: auto;
            gap: 1rem;
            padding: 1rem 0;
            scrollbar-width: none;
        }

        .movie-row::-webkit-scrollbar {
            display: none;
        }

        .movie-card {
            min-width: 200px;
            height: 300px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--secondary-color), var(--dark-bg));
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .movie-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .movie-poster {
            width: 100%;
            height: 70%;
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            position: relative;
        }

        .movie-poster img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .movie-actions {
            position: absolute;
            top: 10px;
            right: 10px;
            display: none;
        }

        .movie-card:hover .movie-actions {
            display: block;
        }

        .action-btn {
            background: rgba(0,0,0,0.8);
            border: none;
            color: white;
            padding: 0.5rem;
            margin-left: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .action-btn:hover {
            background: var(--primary-color);
        }

        .movie-info {
            padding: 1rem;
            height: 30%;
        }

        .movie-title {
            font-size: 1rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .movie-genre {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Upload Section */
        .upload-section, .management-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .upload-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .form-input {
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: white;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            background: rgba(255,255,255,0.15);
        }

        .upload-btn {
            grid-column: 1 / -1;
            padding: 1rem;
            background: var(--success-color);
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-btn:hover {
            background: #3bb54a;
            transform: translateY(-2px);
        }

        .danger-btn {
            background: var(--danger-color) !important;
        }

        .danger-btn:hover {
            background: #c82333 !important;
        }

        /* Settings Page */
        .settings-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .settings-grid {
            display: grid;
            gap: 2rem;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }

        .toggle {
            position: relative;
            width: 50px;
            height: 25px;
            background: var(--border-color);
            border-radius: 25px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .toggle.active {
            background: var(--primary-color);
        }

        .toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 21px;
            height: 21px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        .toggle.active::after {
            transform: translateX(25px);
        }

        /* Management Tables */
        .management-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .management-table th,
        .management-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .management-table th {
            background: rgba(255,255,255,0.1);
            font-weight: bold;
        }

        .management-table tr:hover {
            background: rgba(255,255,255,0.05);
        }

        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--dark-bg);
            border-radius: 15px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-menu {
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: rgba(0,0,0,0.95);
                padding: 1rem;
                display: none;
            }

            .nav-menu.active {
                display: flex;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-content {
                left: 1rem;
                bottom: 1rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease;
        }

        .slide-in-left {
            animation: slideInLeft 0.6s ease;
        }

        /* Quality indicator */
        .quality-indicator {
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-size: 0.9rem;
            z-index: 1001;
        }

        .hd { color: #46d369; }
        .sd { color: #ffd700; }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
    </div>

    <!-- Quality Indicator -->
    <div class="quality-indicator" id="qualityIndicator" style="display: none;">
        <span id="qualityText">HD</span>
    </div>

    <!-- Auth Screen -->
    <div class="auth-screen" id="authScreen">
        <div class="auth-container">
            <h1 class="auth-title">Hieroglyph Studios</h1>
            <div id="loginForm">
                <div class="input-group">
                    <input type="email" class="input-field" id="loginEmail" placeholder="Email address">
                </div>
                <div class="input-group">
                    <input type="password" class="input-field" id="loginPassword" placeholder="Password">
                </div>
                <button class="auth-btn" onclick="login()">Sign In</button>
                <div class="auth-switch">
                    Don't have an account? <a href="#" onclick="showSignup()">Sign up now</a>
                </div>
            </div>
            <div id="signupForm" style="display: none;">
                <div class="input-group">
                    <input type="text" class="input-field" id="signupName" placeholder="Full Name">
                </div>
                <div class="input-group">
                    <input type="email" class="input-field" id="signupEmail" placeholder="Email address">
                </div>
                <div class="input-group">
                    <input type="password" class="input-field" id="signupPassword" placeholder="Password">
                </div>
                <button class="auth-btn" onclick="signup()">Sign Up</button>
                <div class="auth-switch">
                    Already have an account? <a href="#" onclick="showLogin()">Sign in</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" style="display: none;">
        <!-- Header -->
        <header class="header" id="header">
            <div class="nav-container">
                <a href="#" class="logo">Hieroglyph</a>
                <nav>
                    <ul class="nav-menu">
                        <li class="nav-item active" onclick="switchTab('home')">Home</li>
                        <li class="nav-item" onclick="switchTab('new')">New</li>
                        <li class="nav-item" onclick="switchTab('discover')">Discover</li>
                        <li class="nav-item" onclick="switchTab('settings')">Settings</li>
                        <li class="nav-item" onclick="switchTab('account')">Account Info</li>
                        <li class="nav-item" id="managementTab" onclick="switchTab('management')" style="display: none;">Management</li>
                    </ul>
                </nav>
                <div class="user-menu">
                    <button class="profile-btn" id="profileBtn">H</button>
                    <button class="logout-btn" onclick="logout()">Logout</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Tab -->
            <div id="home" class="dashboard fade-in">
                <div class="hero-section" id="heroSection">
                    <div class="hero-content">
                        <h1 class="hero-title" id="heroTitle">Featured Movie</h1>
                        <p class="hero-description" id="heroDescription">Experience premium streaming with our curated collection of movies and series.</p>
                        <div class="hero-buttons">
                            <button class="play-btn" id="heroPlayBtn" onclick="playFeaturedMovie()">▶ Play</button>
                            <button class="info-btn" id="heroInfoBtn" onclick="openFeaturedMovie()">ℹ More Info</button>
                        </div>
                    </div>
                </div>

                <div class="movie-section">
                    <h2 class="section-title">Continue Watching</h2>
                    <div class="movie-row" id="continueWatching">
                        <div class="empty-state">
                            <h3>No movies in progress</h3>
                            <p>Start watching movies to see them here</p>
                        </div>
                    </div>
                </div>

                <div class="movie-section">
                    <h2 class="section-title">Recently Added</h2>
                    <div class="movie-row" id="recentMovies"></div>
                </div>

                <div class="movie-section">
                    <h2 class="section-title">Action & Adventure</h2>
                    <div class="movie-row" id="actionMovies"></div>
                </div>

                <div class="movie-section">
                    <h2 class="section-title">Drama</h2>
                    <div class="movie-row" id="dramaMovies"></div>
                </div>

                <div class="movie-section">
                    <h2 class="section-title">Sci-Fi</h2>
                    <div class="movie-row" id="sciFiMovies"></div>
                </div>

                <div class="movie-section">
                    <h2 class="section-title">Comedy</h2>
                    <div class="movie-row" id="comedyMovies"></div>
                </div>
            </div>

            <!-- New Tab -->
            <div id="new" class="dashboard" style="display: none;">
                <h1 class="section-title">🆕 New Releases</h1>
                <div class="movie-row" id="newMovies"></div>
                
                <div class="movie-section">
                    <h2 class="section-title">Latest Movies</h2>
                    <div class="movie-row" id="latestMovies"></div>
                </div>
                
                <div class="movie-section">
                    <h2 class="section-title">New Series</h2>
                    <div class="movie-row" id="newSeries"></div>
                </div>
            </div>

            <!-- Discover Tab -->
            <div id="discover" class="dashboard" style="display: none;">
                <h1 class="section-title">🔍 Discover</h1>
                <div class="movie-section">
                    <h2 class="section-title">Top Rated Movies</h2>
                    <div class="movie-row" id="topRatedMovies"></div>
                </div>
                <div class="movie-section">
                    <h2 class="section-title">Popular This Week</h2>
                    <div class="movie-row" id="popularMovies"></div>
                </div>
                <div class="movie-section">
                    <h2 class="section-title">All Time Classics</h2>
                    <div class="movie-row" id="classicMovies"></div>
                </div>
                <div class="movie-section">
                    <h2 class="section-title">Trending Series</h2>
                    <div class="movie-row" id="trendingSeries"></div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settings" class="dashboard" style="display: none;">
                <h1 class="section-title">⚙️ Settings</h1>
                <div class="settings-section">
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div>
                                <h3>Auto-play next episode</h3>
                                <p>Automatically play the next episode when one finishes</p>
                            </div>
                            <div class="toggle" data-setting="autoplay" onclick="toggleSetting(this)"></div>
                        </div>
                        <div class="setting-item">
                            <div>
                                <h3>HD Quality</h3>
                                <p>Stream in high definition when available</p>
                            </div>
                            <div class="toggle active" data-setting="hdQuality" onclick="toggleSetting(this)"></div>
                        </div>
                        <div class="setting-item">
                            <div>
                                <h3>Show notifications</h3>
                                <p>Get notified about new releases and recommendations</p>
                            </div>
                            <div class="toggle active" data-setting="notifications" onclick="toggleSetting(this)"></div>
                        </div>
                        <div class="setting-item">
                            <div>
                                <h3>Dark mode</h3>
                                <p>Use dark theme throughout the app</p>
                            </div>
                            <div class="toggle active" data-setting="darkMode" onclick="toggleSetting(this)"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Account Info Tab -->
            <div id="account" class="dashboard" style="display: none;">
                <h1 class="section-title">👤 Account Information</h1>
                <div class="settings-section">
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div>
                                <h3>Email</h3>
                                <p id="userEmail">user@example.com</p>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div>
                                <h3>Account Type</h3>
                                <p id="accountType">Premium</p>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div>
                                <h3>Member Since</h3>
                                <p id="memberSince">January 2024</p>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div>
                                <h3>Movies Watched</h3>
                                <p id="moviesWatched">0</p>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div>
                                <h3>Subscription</h3>
                                <p id="subscriptionType">Premium</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Management Tab (Masters Only) -->
            <div id="management" class="dashboard" style="display: none;">
                <h1 class="section-title">🎛️ Master Management</h1>
                
                <!-- Movie Management -->
                <div class="management-section">
                    <h2 class="section-title">📽️ Movie Management</h2>
                    <div class="upload-form">
                        <div class="form-group">
                            <label class="form-label">Title</label>
                            <input type="text" class="form-input" id="movieTitle" placeholder="Movie/Series Title">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Genre</label>
                            <select class="form-input" id="movieGenre">
                                <option value="Action">Action</option>
                                <option value="Drama">Drama</option>
                                <option value="Comedy">Comedy</option>
                                <option value="Horror">Horror</option>
                                <option value="Sci-Fi">Sci-Fi</option>
                                <option value="Romance">Romance</option>
                                <option value="Thriller">Thriller</option>
                                <option value="Documentary">Documentary</option>
                                <option value="Crime">Crime</option>
                                <option value="Fantasy">Fantasy</option>
                                <option value="Mystery">Mystery</option>
                                <option value="Adventure">Adventure</option>
                                <option value="Animation">Animation</option>
                                <option value="Biography">Biography</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Year</label>
                            <input type="number" class="form-input" id="movieYear" min="1900" max="2030" placeholder="2024">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Rating</label>
                            <select class="form-input" id="movieRating">
                                <option value="G">G</option>
                                <option value="PG">PG</option>
                                <option value="PG-13">PG-13</option>
                                <option value="R">R</option>
                                <option value="NC-17">NC-17</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Duration (minutes)</label>
                            <input type="number" class="form-input" id="movieDuration" placeholder="120">
                        </div>
                        <div class="form-group">
                            <label class="form-label">IMDb Rating (1-10)</label>
                            <input type="number" class="form-input" id="movieImdbRating" min="1" max="10" step="0.1" placeholder="7.5">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Description</label>
                            <textarea class="form-input" id="movieDescription" rows="3" placeholder="Movie description..."></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Type</label>
                            <select class="form-input" id="movieType">
                                <option value="movie">Movie</option>
                                <option value="series">TV Series</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Poster URL (optional)</label>
                            <input type="url" class="form-input" id="moviePoster" placeholder="https://...">
                        </div>
                        <button class="upload-btn" onclick="addMovie()" id="addMovieBtn">🎬 Add Movie</button>
                        <button class="upload-btn" onclick="updateMovie()" id="updateMovieBtn" style="display: none;">📝 Update Movie</button>
                        <button class="upload-btn" onclick="cancelEdit()" id="cancelEditBtn" style="display: none;">❌ Cancel Edit</button>
                    </div>

                    <h3>Existing Movies</h3>
                    <table class="management-table">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Genre</th>
                                <th>Year</th>
                                <th>Rating</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="moviesTable"></tbody>
                    </table>
                </div>

                <!-- User Management -->
                <div class="management-section">
                    <h2 class="section-title">👥 User Management</h2>
                    <div class="upload-form">
                        <div class="form-group">
                            <label class="form-label">Name</label>
                            <input type="text" class="form-input" id="userName" placeholder="Full Name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="userEmailInput" placeholder="user@example.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-input" id="userPassword" placeholder="Password">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Account Type</label>
                            <select class="form-input" id="userType">
                                <option value="user">Regular User</option>
                                <option value="master">Master</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Subscription</label>
                            <select class="form-input" id="userSubscription">
                                <option value="Basic">Basic</option>
                                <option value="Premium">Premium</option>
                                <option value="VIP">VIP</option>
                            </select>
                        </div>
                        <button class="upload-btn" onclick="addUser()">👤 Add User</button>
                    </div>

                    <h3>All Users</h3>
                    <table class="management-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Type</th>
                                <th>Subscription</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="usersTable"></tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- Movie Modal -->
    <div class="modal" id="movieModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        let currentEditingMovie = null;

        // Initialize app
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                }, 500);
            }, 1500);
            
            initializeApp();
        });

        // Initialize master account and settings
        function initializeApp() {
            // Create master account if it doesn't exist
            if (!localStorage.getItem('users')) {
                const users = {
                    'master@email.com': {
                        password: 'Master12!',
                        name: 'Master Admin',
                        type: 'master',
                        memberSince: 'January 2024',
                        moviesWatched: 0,
                        subscription: 'Master'
                    }
                };
                localStorage.setItem('users', JSON.stringify(users));
            }

            // Initialize with real movies if none exist
            if (!localStorage.getItem('movies')) {
                const realMovies = [
                    {
                        id: 1,
                        title: 'Avatar: The Way of Water',
                        genre: 'Action',
                        year: 2022,
                        rating: 'PG-13',
                        duration: 192,
                        imdbRating: 7.6,
                        description: 'Jake Sully lives with his newfound family formed on the planet of Pandora. Once a familiar threat returns to finish what was previously started, Jake must work with Neytiri and the army of the Na\'vi race to protect their planet.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-15T00:00:00.000Z'
                    },
                    {
                        id: 2,
                        title: 'Top Gun: Maverick',
                        genre: 'Action',
                        year: 2022,
                        rating: 'PG-13',
                        duration: 130,
                        imdbRating: 8.3,
                        description: 'After thirty years, Maverick is still pushing the envelope as a top naval aviator, but must confront ghosts of his past when he leads TOP GUN\'s elite graduates on a mission that demands the ultimate sacrifice from those chosen to fly it.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/62HCnUTziyWcpDaBO2i1DX17ljH.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-10T00:00:00.000Z'
                    },
                    {
                        id: 3,
                        title: 'The Batman',
                        genre: 'Action',
                        year: 2022,
                        rating: 'PG-13',
                        duration: 176,
                        imdbRating: 7.8,
                        description: 'When the Riddler, a sadistic serial killer, begins murdering key political figures in Gotham, Batman is forced to investigate the city\'s hidden corruption and question his family\'s involvement.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/b0PlSFdDwbyK0cf5RxwDpaOJQvQ.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-12T00:00:00.000Z'
                    },
                    {
                        id: 4,
                        title: 'Spider-Man: No Way Home',
                        genre: 'Action',
                        year: 2021,
                        rating: 'PG-13',
                        duration: 148,
                        imdbRating: 8.2,
                        description: 'With Spider-Man\'s identity now revealed, Peter asks Doctor Strange for help. When a spell goes wrong, dangerous foes from other worlds start to appear, forcing Peter to discover what it truly means to be Spider-Man.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/1g0dhYtq4irTY1GPXvft6k4YLjm.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-08T00:00:00.000Z'
                    },
                    {
                        id: 5,
                        title: 'Dune',
                        genre: 'Sci-Fi',
                        year: 2021,
                        rating: 'PG-13',
                        duration: 155,
                        imdbRating: 8.0,
                        description: 'Paul Atreides, a brilliant and gifted young man born into a great destiny beyond his understanding, must travel to the most dangerous planet in the universe to ensure the future of his family and his people.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/d5NXSklXo0qyIYkgV94XAgMIckC.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-14T00:00:00.000Z'
                    },
                    {
                        id: 6,
                        title: 'Stranger Things',
                        genre: 'Sci-Fi',
                        year: 2022,
                        rating: 'TV-14',
                        duration: 50,
                        imdbRating: 8.7,
                        description: 'When a young boy vanishes, a small town uncovers a mystery involving secret experiments, terrifying supernatural forces, and one strange little girl.',
                        type: 'series',
                        poster: 'https://image.tmdb.org/t/p/w500/49WJfeN0moxb9IPfGn8AIqMGskD.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-11T00:00:00.000Z'
                    },
                    {
                        id: 7,
                        title: 'The Godfather',
                        genre: 'Drama',
                        year: 1972,
                        rating: 'R',
                        duration: 175,
                        imdbRating: 9.2,
                        description: 'The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/3bhkrj58Vtu7enYsRolD1fZdja1.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-05T00:00:00.000Z'
                    },
                    {
                        id: 8,
                        title: 'Forrest Gump',
                        genre: 'Drama',
                        year: 1994,
                        rating: 'PG-13',
                        duration: 142,
                        imdbRating: 8.8,
                        description: 'The presidencies of Kennedy and Johnson, the events of Vietnam, Watergate, and other history unfold through the perspective of an Alabama man with an IQ of 75.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/arw2vcBveWOVZr6pxd9XTd1TdQa.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-06T00:00:00.000Z'
                    },
                    {
                        id: 9,
                        title: 'The Shawshank Redemption',
                        genre: 'Drama',
                        year: 1994,
                        rating: 'R',
                        duration: 142,
                        imdbRating: 9.3,
                        description: 'Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-07T00:00:00.000Z'
                    },
                    {
                        id: 10,
                        title: 'Inception',
                        genre: 'Sci-Fi',
                        year: 2010,
                        rating: 'PG-13',
                        duration: 148,
                        imdbRating: 8.8,
                        description: 'A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-09T00:00:00.000Z'
                    },
                    {
                        id: 11,
                        title: 'Avengers: Endgame',
                        genre: 'Action',
                        year: 2019,
                        rating: 'PG-13',
                        duration: 181,
                        imdbRating: 8.4,
                        description: 'After the devastating events of Avengers: Infinity War, the universe is in ruins. With the help of remaining allies, the Avengers assemble once more in order to reverse Thanos\' actions and restore balance to the universe.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/or06FN3Dka5tukK1e9sl16pB3iy.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-13T00:00:00.000Z'
                    },
                    {
                        id: 12,
                        title: 'The Dark Knight',
                        genre: 'Action',
                        year: 2008,
                        rating: 'PG-13',
                        duration: 152,
                        imdbRating: 9.0,
                        description: 'When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/qJ2tW6WMUDux911r6m7haRef0WH.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-04T00:00:00.000Z'
                    },
                    {
                        id: 13,
                        title: 'Pulp Fiction',
                        genre: 'Drama',
                        year: 1994,
                        rating: 'R',
                        duration: 154,
                        imdbRating: 8.9,
                        description: 'The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/d5iIlFn5s0ImszYzBPb8JPIfbXD.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-03T00:00:00.000Z'
                    },
                    {
                        id: 14,
                        title: 'Interstellar',
                        genre: 'Sci-Fi',
                        year: 2014,
                        rating: 'PG-13',
                        duration: 169,
                        imdbRating: 8.6,
                        description: 'A team of explorers travel through a wormhole in space in an attempt to ensure humanity\'s survival.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/gEU2QniE6E77NI6lCU6MxlNBvIx.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-02T00:00:00.000Z'
                    },
                    {
                        id: 15,
                        title: 'The Matrix',
                        genre: 'Sci-Fi',
                        year: 1999,
                        rating: 'R',
                        duration: 136,
                        imdbRating: 8.7,
                        description: 'A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-01T00:00:00.000Z'
                    },
                    {
                        id: 16,
                        title: 'The Office',
                        genre: 'Comedy',
                        year: 2009,
                        rating: 'TV-14',
                        duration: 22,
                        imdbRating: 8.9,
                        description: 'A mockumentary on a group of typical office workers, where the workday consists of ego clashes, inappropriate behavior, and tedium.',
                        type: 'series',
                        poster: 'https://image.tmdb.org/t/p/w500/7DJKHzAi83UmjbQnFahM2u2B2Z7.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-16T00:00:00.000Z'
                    },
                    {
                        id: 17,
                        title: 'Breaking Bad',
                        genre: 'Drama',
                        year: 2013,
                        rating: 'TV-MA',
                        duration: 47,
                        imdbRating: 9.5,
                        description: 'A high school chemistry teacher diagnosed with inoperable lung cancer turns to manufacturing and selling methamphetamine in order to secure his family\'s future.',
                        type: 'series',
                        poster: 'https://image.tmdb.org/t/p/w500/ggFHVNu6YYI5L9pCfOacjizRGt.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-17T00:00:00.000Z'
                    },
                    {
                        id: 18,
                        title: 'Game of Thrones',
                        genre: 'Drama',
                        year: 2019,
                        rating: 'TV-MA',
                        duration: 57,
                        imdbRating: 9.2,
                        description: 'Nine noble families fight for control over the lands of Westeros, while an ancient enemy returns after being dormant for millennia.',
                        type: 'series',
                        poster: 'https://image.tmdb.org/t/p/w500/u3bZgnGQ9T01sWNhyveQz0wH0Hl.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-18T00:00:00.000Z'
                    },
                    {
                        id: 19,
                        title: 'Goodfellas',
                        genre: 'Drama',
                        year: 1990,
                        rating: 'R',
                        duration: 146,
                        imdbRating: 8.7,
                        description: 'The story of Henry Hill and his life in the mob, covering his relationship with his wife Karen Hill and his mob partners Jimmy Conway and Tommy DeVito.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/aKuFiU82s5ISJpGZp7YkIr3kCUd.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-19T00:00:00.000Z'
                    },
                    {
                        id: 20,
                        title: 'Schindler\'s List',
                        genre: 'Drama',
                        year: 1993,
                        rating: 'R',
                        duration: 195,
                        imdbRating: 8.9,
                        description: 'In German-occupied Poland during World War II, industrialist Oskar Schindler gradually becomes concerned for his Jewish workforce after witnessing their persecution by the Nazis.',
                        type: 'movie',
                        poster: 'https://image.tmdb.org/t/p/w500/sF1U4EUQS8YHUYjNl3pMGNIQyr0.jpg',
                        addedBy: 'system',
                        addedDate: '2024-01-20T00:00:00.000Z'
                    }
                ];
                localStorage.setItem('movies', JSON.stringify(realMovies));
            }

            // Initialize default settings
            if (!localStorage.getItem('appSettings')) {
                const defaultSettings = {
                    autoplay: false,
                    hdQuality: true,
                    notifications: true,
                    darkMode: true
                };
                localStorage.setItem('appSettings', JSON.stringify(defaultSettings));
            }

            loadSettings();
        }

        // Load and apply settings
        function loadSettings() {
            const settings = JSON.parse(localStorage.getItem('appSettings') || '{}');
            
            // Apply settings to toggles
            Object.keys(settings).forEach(setting => {
                const toggle = document.querySelector(`[data-setting="${setting}"]`);
                if (toggle) {
                    if (settings[setting]) {
                        toggle.classList.add('active');
                    } else {
                        toggle.classList.remove('active');
                    }
                }
            });

            // Apply HD quality setting
            if (settings.hdQuality) {
                document.getElementById('qualityIndicator').style.display = 'block';
                document.getElementById('qualityText').textContent = 'HD';
                document.getElementById('qualityText').className = 'hd';
            } else {
                document.getElementById('qualityIndicator').style.display = 'block';
                document.getElementById('qualityText').textContent = 'SD';
                document.getElementById('qualityText').className = 'sd';
            }
        }

        // Authentication functions
        function showSignup() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('signupForm').style.display = 'block';
        }

        function showLogin() {
            document.getElementById('signupForm').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
        }

        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (users[email] && users[email].password === password) {
                localStorage.setItem('currentUser', JSON.stringify({
                    email: email,
                    ...users[email]
                }));
                
                showMainApp();
            } else {
                alert('Invalid email or password');
            }
        }

        function signup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            
            if (!name || !email || !password) {
                alert('Please fill in all fields');
                return;
            }

            if (password.length < 6) {
                alert('Password must be at least 6 characters');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (users[email]) {
                alert('Email already exists');
                return;
            }

            users[email] = {
                name,
                password,
                type: 'user',
                memberSince: new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }),
                moviesWatched: 0,
                subscription: 'Basic'
            };
            
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify({
                email: email,
                ...users[email]
            }));
            
            showMainApp();
        }

        function logout() {
            localStorage.removeItem('currentUser');
            document.getElementById('mainApp').style.display = 'none';
            document.getElementById('authScreen').style.display = 'flex';
            showLogin();
        }

        function showMainApp() {
            document.getElementById('authScreen').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
            
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            // Update profile button
            document.getElementById('profileBtn').textContent = currentUser.name.charAt(0).toUpperCase();
            
            // Show management tab if master user
            if (currentUser.type === 'master') {
                document.getElementById('managementTab').style.display = 'block';
            }
            
            // Update account info
            document.getElementById('userEmail').textContent = currentUser.email;
            document.getElementById('accountType').textContent = currentUser.type === 'master' ? 'Master Account' : 'Premium User';
            document.getElementById('memberSince').textContent = currentUser.memberSince;
            document.getElementById('moviesWatched').textContent = currentUser.moviesWatched;
            document.getElementById('subscriptionType').textContent = currentUser.subscription || 'Premium';
            
            loadMovies();
            loadManagementData();
        }

        // Tab switching
        function switchTab(tabName) {
            // Hide all tabs
            const tabs = ['home', 'new', 'discover', 'settings', 'account', 'management'];
            tabs.forEach(tab => {
                document.getElementById(tab).style.display = 'none';
            });
            
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected tab and add active class
            document.getElementById(tabName).style.display = 'block';
            event.target.classList.add('active');
            
            // Load content based on tab
            if (tabName === 'home') {
                loadMovies();
            } else if (tabName === 'new') {
                loadNewMovies();
            } else if (tabName === 'discover') {
                loadDiscoverMovies();
            } else if (tabName === 'management') {
                loadManagementData();
            }
        }

        // Settings functions
        function toggleSetting(element) {
            element.classList.toggle('active');
            const setting = element.getAttribute('data-setting');
            const isActive = element.classList.contains('active');
            
            // Save setting
            const settings = JSON.parse(localStorage.getItem('appSettings') || '{}');
            settings[setting] = isActive;
            localStorage.setItem('appSettings', JSON.stringify(settings));
            
            // Apply setting immediately
            if (setting === 'hdQuality') {
                if (isActive) {
                    document.getElementById('qualityText').textContent = 'HD';
                    document.getElementById('qualityText').className = 'hd';
                } else {
                    document.getElementById('qualityText').textContent = 'SD';
                    document.getElementById('qualityText').className = 'sd';
                }
            }
            
            if (setting === 'notifications' && isActive) {
                // Show notification
                setTimeout(() => {
                    alert('Notifications enabled! You\'ll receive updates about new releases.');
                }, 500);
            }
        }

        // Movie management
        function loadMovies() {
            const movies = JSON.parse(localStorage.getItem('movies') || '[]');
            
            // Load hero section with featured movie
            loadHeroSection();
            
            // Load different categories
            loadMovieRow('recentMovies', movies.slice(-6).reverse());
            loadMovieRow('actionMovies', movies.filter(m => m.genre === 'Action'));
            loadMovieRow('dramaMovies', movies.filter(m => m.genre === 'Drama'));
            loadMovieRow('sciFiMovies', movies.filter(m => m.genre === 'Sci-Fi'));
            loadMovieRow('comedyMovies', movies.filter(m => m.genre === 'Comedy'));
            loadContinueWatching();
        }

        function loadHeroSection() {
            const movies = JSON.parse(localStorage.getItem('movies') || '[]');
            if (movies.length === 0) return;
            
            // Get highest rated movie for hero section
            const featuredMovie = movies.reduce((prev, current) => 
                (prev.imdbRating > current.imdbRating) ? prev : current
            );
            
            if (featuredMovie) {
                localStorage.setItem('featuredMovie', JSON.stringify(featuredMovie));
                
                document.getElementById('heroTitle').textContent = featuredMovie.title;
                document.getElementById('heroDescription').textContent = featuredMovie.description;
                
                const heroSection = document.getElementById('heroSection');
                if (featuredMovie.poster) {
                    heroSection.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.7)), url('${featuredMovie.poster}')`;
                    heroSection.style.backgroundSize = 'cover';
                    heroSection.style.backgroundPosition = 'center';
                }
            }
        }

        function playFeaturedMovie() {
            const featuredMovie = JSON.parse(localStorage.getItem('featuredMovie'));
            if (featuredMovie) {
                playMovie(featuredMovie.id);
            }
        }

        function openFeaturedMovie() {
            const featuredMovie = JSON.parse(localStorage.getItem('featuredMovie'));
            if (featuredMovie) {
                openMovie(featuredMovie.id);
            }
        }

        function loadNewMovies() {
            const movies = JSON.parse(localStorage.getItem('movies') || '[]');
            const newMovies = movies.sort((a, b) => b.year - a.year);
            loadMovieRow('newMovies', newMovies.slice(0, 8));
            
            const latestMovies = movies.filter(m => m.type === 'movie').sort((a, b) => b.year - a.year);
            loadMovieRow('latestMovies', latestMovies.slice(0, 8));
            
            const newSeries = movies.filter(m => m.type === 'series').sort((a, b) => b.year - a.year);
            loadMovieRow('newSeries', newSeries);
        }

        function loadDiscoverMovies() {
            const movies = JSON.parse(localStorage.getItem('movies') || '[]');
            
            // Top rated movies
            const topRated = movies.filter(m => m.imdbRating && m.type === 'movie').sort((a, b) => b.imdbRating - a.imdbRating);
            loadMovieRow('topRatedMovies', topRated);
            
            // Popular this week (randomly shuffle for demo)
            const shuffled = [...movies].sort(() => 0.5 - Math.random());
            loadMovieRow('popularMovies', shuffled.slice(0, 8));
            
            // Classic movies (older high-rated films)
            const classics = movies.filter(m => m.year < 2000 && m.imdbRating >= 8.5).sort((a, b) => b.imdbRating - a.imdbRating);
            loadMovieRow('classicMovies', classics);
            
            // Trending series
            const trendingSeries = movies.filter(m => m.type === 'series').sort((a, b) => b.imdbRating - a.imdbRating);
            loadMovieRow('trendingSeries', trendingSeries);
        }

        function loadMovieRow(containerId, movies) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            if (movies.length === 0) {
                container.innerHTML = '<div class="empty-state"><h3>No movies available</h3><p>Add movies to see them here</p></div>';
                return;
            }
            
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const isMaster = currentUser.type === 'master';
            
            container.innerHTML = movies.map(movie => `
                <div class="movie-card" onclick="openMovie(${movie.id})">
                    <div class="movie-poster">
                        ${movie.poster ? `<img src="${movie.poster}" alt="${movie.title}">` : (movie.type === 'series' ? '📺' : '🎬')}
                        ${isMaster ? `
                            <div class="movie-actions">
                                <button class="action-btn" onclick="event.stopPropagation(); editMovie(${movie.id})" title="Edit">✏️</button>
                                <button class="action-btn" onclick="event.stopPropagation(); deleteMovie(${movie.id})" title="Delete">🗑️</button>
                            </div>
                        ` : ''}
                    </div>
                    <div class="movie-info">
                        <div class="movie-title">${movie.title}</div>
                        <div class="movie-genre">${movie.genre} • ${movie.year} ${movie.imdbRating ? `• ★${movie.imdbRating}` : ''}</div>
                    </div>
                </div>
            `).join('');
        }

        function loadContinueWatching() {
            const watchedMovies = JSON.parse(localStorage.getItem('watchedMovies') || '[]');
            const movies = JSON.parse(localStorage.getItem('movies') || '[]');
            const continueWatching = movies.filter(movie => 
                watchedMovies.some(watched => watched.id === movie.id && watched.progress < 100)
            ).slice(0, 6);
            
            loadMovieRow('continueWatching', continueWatching);
        }

        // Master functions
        function addMovie() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser.type !== 'master') {
                alert('Only master accounts can add movies');
                return;
            }

            const title = document.getElementById('movieTitle').value;
            const genre = document.getElementById('movieGenre').value;
            const year = document.getElementById('movieYear').value;
            const rating = document.getElementById('movieRating').value;
            const duration = document.getElementById('movieDuration').value;
            const imdbRating = document.getElementById('movieImdbRating').value;
            const description = document.getElementById('movieDescription').value;
            const type = document.getElementById('movieType').value;
            const poster = document.getElementById('moviePoster').value;

            if (!title || !genre || !year || !duration || !description) {
                alert('Please fill in all required fields');
                return;
            }

            const movies = JSON.parse(localStorage.getItem('movies') || '[]');
            const newMovie = {
                id: Date.now(),
                title,
                genre,
                year: parseInt(year),
                rating,
                duration: parseInt(duration),
                imdbRating: imdbRating ? parseFloat(imdbRating) : null,
                description,
                type,
                poster: poster || null,
                addedBy: currentUser.email,
                addedDate: new Date().toISOString()
            };

            movies.push(newMovie);
            localStorage.setItem('movies', JSON.stringify(movies));

            clearMovieForm();
            alert('Movie added successfully!');
            loadMovies();
            loadManagementData();
        }

        function editMovie(movieId) {
            const movies = JSON.parse(localStorage.getItem('movies') || '[]');
            const movie = movies.find(m => m.id === movieId);
            
            if (!movie) return;

            // Fill form with movie data
            document.getElementById('movieTitle').value = movie.title;
            document.getElementById('movieGenre').value = movie.genre;
            document.getElementById('movieYear').value = movie.year;
            document.getElementById('movieRating').value = movie.rating;
            document.getElementById('movieDuration').value = movie.duration;
            document.getElementById('movieImdbRating').value = movie.imdbRating || '';
            document.getElementById('movieDescription').value = movie.description;
            document.getElementById('movieType').value = movie.type;
            document.getElementById('moviePoster').value = movie.poster || '';

            // Show update buttons
            document.getElementById('addMovieBtn').style.display = 'none';
            document.getElementById('updateMovieBtn').style.display = 'block';
            document.getElementById('cancelEditBtn').style.display = 'block';

            currentEditingMovie = movieId;
            switchTab('management');
        }

        function updateMovie() {
            if (!currentEditingMovie) return;

            const movies = JSON.parse(localStorage.getItem('movies') || '[]');
            const movieIndex = movies.findIndex(m => m.id === currentEditingMovie);
            
            if (movieIndex === -1) return;

            const title = document.getElementById('movieTitle').value;
            const genre = document.getElementById('movieGenre').value;
            const year = document.getElementById('movieYear').value;
            const rating = document.getElementById('movieRating').value;
            const duration = document.getElementById('movieDuration').value;
            const imdbRating = document.getElementById('movieImdbRating').value;
            const description = document.getElementById('movieDescription').value;
            const type = document.getElementById('movieType').value;
            const poster = document.getElementById('moviePoster').value;

            if (!title || !genre || !year || !duration || !description) {
                alert('Please fill in all required fields');
                return;
            }

            movies[movieIndex] = {
                ...movies[movieIndex],
                title,
                genre,
                year: parseInt(year),
                rating,
                duration: parseInt(duration),
                imdbRating: imdbRating ? parseFloat(imdbRating) : null,
                description,
                type,
                poster: poster || null
            };

            localStorage.setItem('movies', JSON.stringify(movies));

            cancelEdit();
            alert('Movie updated successfully!');
            loadMovies();
            loadManagementData();
        }

        function cancelEdit() {
            currentEditingMovie = null;
            clearMovieForm();
            document.getElementById('addMovieBtn').style.display = 'block';
            document.getElementById('updateMovieBtn').style.display = 'none';
            document.getElementById('cancelEditBtn').style.display = 'none';
        }

        function deleteMovie(movieId) {
            if (!confirm('Are you sure you want to delete this movie?')) return;

            let movies = JSON.parse(localStorage.getItem('movies') || '[]');
            movies = movies.filter(m => m.id !== movieId);
            localStorage.setItem('movies', JSON.stringify(movies));

            loadMovies();
            loadManagementData();
        }

        function clearMovieForm() {
            document.getElementById('movieTitle').value = '';
            document.getElementById('movieDescription').value = '';
            document.getElementById('movieYear').value = '';
            document.getElementById('movieDuration').value = '';
            document.getElementById('movieImdbRating').value = '';
            document.getElementById('moviePoster').value = '';
        }

        function addUser() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser.type !== 'master') {
                alert('Only master accounts can add users');
                return;
            }

            const name = document.getElementById('userName').value;
            const email = document.getElementById('userEmailInput').value;
            const password = document.getElementById('userPassword').value;
            const type = document.getElementById('userType').value;
            const subscription = document.getElementById('userSubscription').value;

            if (!name || !email || !password) {
                alert('Please fill in all fields');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (users[email]) {
                alert('User with this email already exists');
                return;
            }

            users[email] = {
                name,
                password,
                type,
                subscription,
                memberSince: new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' }),
                moviesWatched: 0
            };

            localStorage.setItem('users', JSON.stringify(users));

            // Clear form
            document.getElementById('userName').value = '';
            document.getElementById('userEmailInput').value = '';
            document.getElementById('userPassword').value = '';

            alert('User added successfully!');
            loadManagementData();
        }

        function deleteUser(email) {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser.email === email) {
                alert('You cannot delete your own account');
                return;
            }

            if (!confirm('Are you sure you want to delete this user?')) return;

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            delete users[email];
            localStorage.setItem('users', JSON.stringify(users));

            loadManagementData();
        }

        function loadManagementData() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser.type !== 'master') return;

            // Load movies table
            const movies = JSON.parse(localStorage.getItem('movies') || '[]');
            const moviesTable = document.getElementById('moviesTable');
            moviesTable.innerHTML = movies.map(movie => `
                <tr>
                    <td>${movie.title}</td>
                    <td>${movie.genre}</td>
                    <td>${movie.year}</td>
                    <td>${movie.rating}</td>
                    <td>
                        <button class="action-btn" onclick="editMovie(${movie.id})" title="Edit">✏️</button>
                        <button class="action-btn" onclick="deleteMovie(${movie.id})" title="Delete">🗑️</button>
                    </td>
                </tr>
            `).join('');

            // Load users table
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const usersTable = document.getElementById('usersTable');
            usersTable.innerHTML = Object.entries(users).map(([email, user]) => `
                <tr>
                    <td>${user.name}</td>
                    <td>${email}</td>
                    <td>${user.type}</td>
                    <td>${user.subscription || 'Basic'}</td>
                    <td>
                        ${email !== currentUser.email ? `<button class="action-btn danger-btn" onclick="deleteUser('${email}')" title="Delete">🗑️</button>` : '<span>Current User</span>'}
                    </td>
                </tr>
            `).join('');
        }

        function openMovie(movieId) {
            const movies = JSON.parse(localStorage.getItem('movies') || '[]');
            const movie = movies.find(m => m.id === movieId);
            
            if (!movie) return;

            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = `
                <h2>${movie.title} (${movie.year})</h2>
                <div style="display: flex; gap: 1rem; margin: 1rem 0;">
                    <span style="background: var(--primary-color); padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">${movie.rating}</span>
                    <span>${movie.duration} min</span>
                    <span>${movie.genre}</span>
                    <span>${movie.type === 'series' ? 'TV Series' : 'Movie'}</span>
                    ${movie.imdbRating ? `<span>★ ${movie.imdbRating}/10</span>` : ''}
                </div>
                <p style="margin: 1rem 0; line-height: 1.6;">${movie.description}</p>
                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button class="play-btn" onclick="playMovie(${movie.id})">▶ Play</button>
                    <button class="info-btn" onclick="addToWatchlist(${movie.id})">+ Watchlist</button>
                </div>
            `;
            
            document.getElementById('movieModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('movieModal').classList.remove('active');
        }

        function playMovie(movieId) {
            const watchedMovies = JSON.parse(localStorage.getItem('watchedMovies') || '[]');
            const existingWatch = watchedMovies.find(w => w.id === movieId);
            
            if (existingWatch) {
                existingWatch.progress = Math.min(100, existingWatch.progress + 25);
            } else {
                watchedMovies.push({
                    id: movieId,
                    progress: 25,
                    lastWatched: new Date().toISOString()
                });
            }
            
            localStorage.setItem('watchedMovies', JSON.stringify(watchedMovies));
            
            // Update user's movies watched count
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            currentUser.moviesWatched = (currentUser.moviesWatched || 0) + 1;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            const users = JSON.parse(localStorage.getItem('users'));
            users[currentUser.email].moviesWatched = currentUser.moviesWatched;
            localStorage.setItem('users', JSON.stringify(users));
            
            const movie = JSON.parse(localStorage.getItem('movies')).find(m => m.id === movieId);
            alert('Now playing: ' + movie.title);
            closeModal();
            loadContinueWatching();
            
            // Update account info display
            document.getElementById('moviesWatched').textContent = currentUser.moviesWatched;
        }

        function addToWatchlist(movieId) {
            const watchlist = JSON.parse(localStorage.getItem('watchlist') || '[]');
            if (!watchlist.includes(movieId)) {
                watchlist.push(movieId);
                localStorage.setItem('watchlist', JSON.stringify(watchlist));
                alert('Added to watchlist!');
            } else {
                alert('Already in watchlist!');
            }
        }

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.getElementById('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Auto-login if user exists
        window.addEventListener('DOMContentLoaded', () => {
            const currentUser = localStorage.getItem('currentUser');
            if (currentUser) {
                showMainApp();
            }
        });

        // Close modal when clicking outside
        document.getElementById('movieModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('movieModal')) {
                closeModal();
            }
        });
    </script>
</body>
</html>
